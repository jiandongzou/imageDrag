<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
       *{
           margin: 0;
           padding: 0;
       }
    </style>
</head>
<body>
    <div class="box" style="background:red;width: 100px;height: 100px;position:absolute;left:0;top:0;"></div>
    
</body>
<script src="dist/jquery-1.7.2.js"></script>
<script>
    $(function(){
        //移动窗口的步骤
        //1、按下鼠标左键
        //2、移动鼠标
        $('.box').mousedown(function(e){
            // e.pageX
            var positionDiv = $(this).offset();
            var distenceX = e.pageX - positionDiv.left;
            var distenceY = e.pageY - positionDiv.top;
             //alert(distenceX)
             //alert(positionDiv.left);
            $(document).mousemove(function(e){
                var x = e.pageX - distenceX;
                var y = e.pageY - distenceY;
                console.log(x,y)
                if(x<0){
                    x=0;
                }else if(x>$(document).width()-$('.box').outerWidth(true)){
                    x = $(document).width()-$('.box').outerWidth(true);
                }
                if(y<0){
                    y=0;
                }else if(y>$(document).height()-$('.box').outerHeight(true)){
                    y = $(document).height()-$('.box').outerHeight(true);
                }
                $('.box').css({
                    'left':x+'px',
                    'top':y+'px'
                });
            });
            $(document).mouseup(function(){
                $(document).off('mousemove');
            });
        });
    });
</script>
</script>
</html>